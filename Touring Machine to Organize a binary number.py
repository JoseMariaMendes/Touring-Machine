import sys

d = "\u0394"
estado_final = "ha"
aceitavel={"1","0"}
estado_inicial ="A"
simbolos = {"1", "0", "X", "$", d}
estados = {"A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "ha"}


dic_trans={("A","0"):"A",("A","1"):"A",              ("A",d):"B",
           ("B","0"):"B",("B","1"):"B",("B","X"):"B",("B",d):"C",
           ("C","0"):"D",("C","1"):"C",("C","X"):"C",             ("C","$"):"G",
           ("D","0"):"D",("D","1"):"D",("D","X"):"D",             ("D","$"):"E",
           ("E","0"):"E",                            ("E",d):"F",
           ("F","0"):"F",                                         ("F","$"):"B",
                         ("G","1"):"G",("G","X"):"G",("G",d):"H",
                         ("H","1"):"I",("H","X"):"H",             ("H","$"):"L",
                         ("I","1"):"I",("I","X"):"I",             ("I","$"):"J",
           ("J","0"):"J",("J","1"):"J",              ("J",d):"K",
           ("K","0"):"K",("K","1"):"K",                           ("K","$"):"L",
                         ("L","1"):"G",("L","X"):"L",("L",d):"M",
           ("M","0"):"M",("M","1"):"M",("M","X"):"M",("M",d):"ha",("M","$"):"M"}

dic_sub=  {("A","0"):"0",("A","1"):"1",              ("A",d):"$",
           ("B","0"):"0",("B","1"):"1",("B","X"):"X",("B",d):d,
           ("C","0"):"X",("C","1"):"1",("C","X"):"X",             ("C","$"):"$",
           ("D","0"):"0",("D","1"):"1",("D","X"):"X",             ("D","$"):"$",
           ("E","0"):"0",                            ("E",d):"0",
           ("F","0"):"0",                                         ("F","$"):"$",
                         ("G","1"):"1",("G","X"):"X",("G",d):d,
                         ("H","1"):"X",("H","X"):"X",             ("H","$"):"$",
                         ("I","1"):"1",("I","X"):"X",             ("I","$"):"$",
           ("J","0"):"0",("J","1"):"1",              ("J",d):"1",
           ("K","0"):"0",("K","1"):"1",                           ("K","$"):"$",
                         ("L","1"):"1",("L","X"):"X",("L",d):d,
           ("M","0"):"0",("M","1"):"1",("M","X"):d,  ("M",d):d,   ("M","$"):d}

dic_lado= {("A","0"):"R",("A","1"):"R",              ("A",d):"L",
           ("B","0"):"L",("B","1"):"L",("B","X"):"L",("B",d):"R",
           ("C","0"):"R",("C","1"):"R",("C","X"):"R",            ("C","$"):"L",
           ("D","0"):"R",("D","1"):"R",("D","X"):"R",            ("D","$"):"R",
           ("E","0"):"R",                            ("E",d):"L",
           ("F","0"):"L",                                        ("F","$"):"L",
                         ("G","1"):"L",("G","X"):"L",("G",d):"R",
                         ("H","1"):"R",("H","X"):"R",            ("H","$"):"L",
                         ("I","1"):"R",("I","X"):"R",            ("I","$"):"R",
           ("J","0"):"R",("J","1"):"R",              ("J",d):"L",
           ("K","0"):"L",("K","1"):"L",                          ("K","$"):"L",
                         ("L","1"):"L",("L","X"):"L",("L",d):"R",
           ("M","0"):"R",("M","1"):"R",("M","X"):"R",("M",d):"S",("M","$"):"R"}

seq = input("insira uma sequencia de 0's e 1's: ")

lseq = list(seq)

header = 1

lseq[:0] += d
lseq += d

for i in seq:
    lseq += d

lseq += d

estado_atual = estado_inicial

while True:

    el = lseq[header]
    trans = dic_trans[estado_atual, el]
    lseq[header] = dic_sub[estado_atual, el]

    print(lseq)

    if dic_lado[estado_atual, el] == "R":
        header += 1
    elif dic_lado[estado_atual, el] == "L":
        header -= 1
    estado_atual = trans

    if estado_atual == estado_final:
        print("yay!!!!!!!!!!")
        break 